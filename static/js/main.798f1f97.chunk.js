(this["webpackJsonpmydiscord-clone"]=this["webpackJsonpmydiscord-clone"]||[]).push([[0],{71:function(e,c,n){},75:function(e,c,n){},76:function(e,c,n){},77:function(e,c,n){},79:function(e,c,n){},83:function(e,c,n){},84:function(e,c,n){},85:function(e,c,n){},86:function(e,c,n){"use strict";n.r(c);var a=n(3),s=n(2),t=n.n(s),i=n(21),r=n.n(i),l=(n(71),n(13)),o=(n(75),n(23)),d=(n(76),n(77),n(46)),j=n.n(d),b=n(48),h=n.n(b),u=n(49),m=n.n(u),O=n(50),p=n.n(O),x=n(51),f=n.n(x),v=n(52),g=n.n(v),N=function(e){var c=e.channelName;return Object(a.jsxs)("div",{className:"chatHeader",children:[Object(a.jsx)("div",{className:"chatHeader_left",children:Object(a.jsxs)("h3",{children:[Object(a.jsx)("span",{className:"chatHeader_hash",children:"#"}),c]})}),Object(a.jsx)("div",{className:"ChatHeader_right",children:Object(a.jsxs)("div",{className:"icon_chat",children:[Object(a.jsx)(j.a,{}),Object(a.jsx)(h.a,{}),Object(a.jsx)(m.a,{}),Object(a.jsxs)("div",{className:"chatHeader_search",children:[Object(a.jsx)("input",{placeholder:"Search"}),Object(a.jsx)(p.a,{})]}),Object(a.jsx)(f.a,{}),Object(a.jsx)(g.a,{})]})})]})},_=n(53),I=n.n(_),S=n(54),C=n.n(S),y=n(55),w=n.n(y),k=n(56),z=n.n(k),A=n(100),D=(n(79),function(e){var c=e.timestamp,n=e.user,s=e.message;return Object(a.jsxs)("div",{className:"message",children:[Object(a.jsx)(A.a,{src:n.photo}),Object(a.jsxs)("div",{className:"message_info",children:[Object(a.jsxs)("h4",{children:[n.displayName,Object(a.jsx)("span",{className:"message_timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(a.jsx)("p",{children:s})]})]})}),H=n(24),B=Object(H.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),E=(B.actions.setChannelId,B.actions.setChannelInfo),L=function(e){return e.app.channelName},M=function(e){return e.app.channelId},W=B.reducer,R=Object(H.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),T=R.actions,U=T.login,F=T.logout,G=function(e){return e.user.user},J=R.reducer,K=n(26),P=K.a.initializeApp({apiKey:"AIzaSyACYf_GypbfEk_sRZIMKoAHt1ArL7hlBl4",authDomain:"discord-clone-cfbde.firebaseapp.com",databaseURL:"https://discord-clone-cfbde.firebaseio.com",projectId:"discord-clone-cfbde",storageBucket:"discord-clone-cfbde.appspot.com",messagingSenderId:"24290841655",appId:"1:24290841655:web:f528622feb23a572359bb2"}).firestore(),V=K.a.auth(),Y=new K.a.auth.GoogleAuthProvider,Z=P;var $=function(){var e=Object(l.c)(G),c=Object(l.c)(M),n=Object(l.c)(L),t=Object(s.useState)(""),i=Object(o.a)(t,2),r=i[0],d=i[1],j=Object(s.useState)([]),b=Object(o.a)(j,2),h=b[0],u=b[1];return Object(s.useEffect)((function(){c&&Z.collection("channels").doc(c).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsx)(N,{channelName:n}),Object(a.jsx)("div",{className:"chat_msg",children:h.map((function(e){return Object(a.jsx)(D,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(a.jsxs)("div",{className:"chat_input",children:[Object(a.jsx)(I.a,{fontSize:"large"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("input",{value:r,disabled:!c,onChange:function(e){return d(e.target.value)},placeholder:"Message #".concat(n)}),Object(a.jsx)("button",{disabled:!c,className:"chat_inputButton",type:"submit",onClick:function(n){n.preventDefault(),Z.collection("channels").doc(c).collection("messages").add({timestamp:K.a.firestore.FieldValue.serverTimestamp(),message:r,user:e}),d("")},children:"Send Message"})]}),Object(a.jsxs)("div",{className:"chat_inputIcons",children:[Object(a.jsx)(C.a,{fontSize:"large"}),Object(a.jsx)(w.a,{fontSize:"large"}),Object(a.jsx)(z.a,{fontSize:"large"})]})]})]})},q=(n(83),n(37)),Q=n.n(q),X=n(57),ee=n.n(X),ce=(n(84),function(e){var c=e.id,n=e.channelName,s=Object(l.b)();return Object(a.jsx)("div",{className:"sidebarChannel",onClick:function(){return s(E({channelId:c,channelName:n}))},children:Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n]})})}),ne=n(58),ae=n.n(ne),se=n(59),te=n.n(se),ie=n(60),re=n.n(ie),le=n(61),oe=n.n(le),de=n(62),je=n.n(de),be=n(63),he=n.n(be),ue=function(){var e=Object(l.c)(G),c=Object(s.useState)([]),n=Object(o.a)(c,2),t=n[0],i=n[1];Object(s.useEffect)((function(){Z.collection("channels").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]);return Object(a.jsxs)("div",{className:"sidebar",children:[Object(a.jsxs)("div",{className:"sidebar_top",children:[Object(a.jsx)("h3",{children:" Code With Nobel "}),Object(a.jsx)(Q.a,{})]}),Object(a.jsxs)("div",{className:"sidebar_channels",children:[Object(a.jsxs)("div",{className:"sidebar_channelsHeader",children:[Object(a.jsxs)("div",{className:"sidebar_header",children:[Object(a.jsx)(Q.a,{}),Object(a.jsx)("h4",{children:"Text Channels"})]}),Object(a.jsx)(ee.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&Z.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(a.jsx)("div",{className:"sidebar_channelsList",children:t.map((function(e){var c=e.id,n=e.channel;return Object(a.jsx)(ce,{id:c,channelName:n.channelName},c)}))})]}),Object(a.jsxs)("div",{className:"sidebar_voice",children:[Object(a.jsx)(ae.a,{className:"sidebar_voiceIcon",fontSize:"large"}),Object(a.jsxs)("div",{className:"sidebar_voiceInfo",children:[Object(a.jsx)("h3",{children:"Voice Connected"}),Object(a.jsx)("p",{children:"Stream"})]}),Object(a.jsxs)("div",{className:"sidebar_voiceIcons",children:[Object(a.jsx)(te.a,{}),Object(a.jsx)(re.a,{})]})]}),Object(a.jsxs)("div",{className:"sidebar__profile",children:[Object(a.jsx)(A.a,{onClick:function(){return V.signOut()},src:e.photo}),Object(a.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(a.jsx)("h3",{children:e.displayName}),Object(a.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(a.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(a.jsx)(oe.a,{}),Object(a.jsx)(je.a,{}),Object(a.jsx)(he.a,{})]})]})]})},me=n(99),Oe=(n(85),function(){return Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("div",{className:"login_logo",children:Object(a.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/sco/thumb/9/98/Discord_logo.svg/800px-Discord_logo.svg.png",alt:"Discord Logo"})}),Object(a.jsx)(me.a,{onClick:function(){V.signInWithPopup(Y).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})});var pe=function(){var e=Object(l.b)(),c=Object(l.c)(G);return Object(s.useEffect)((function(){V.onAuthStateChanged((function(c){e(c?U({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):F())}))}),[e]),Object(a.jsx)("div",{className:"app",children:c?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ue,{}),Object(a.jsx)($,{})]}):Object(a.jsx)(Oe,{})})},xe=Object(H.a)({reducer:{user:J,app:W}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(t.a.StrictMode,{children:Object(a.jsx)(l.a,{store:xe,children:Object(a.jsx)(pe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[86,1,2]]]);
//# sourceMappingURL=main.798f1f97.chunk.js.map